<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POO</title>
</head>
<body>
    <form id="formClientes">
        <h2>Clientes</h2>
        <input type="hidden" name="id" value="1">
        <input type="text" name="nombre" placeholder="Nombre">
        <input type="text" name="apellido" placeholder="Apellido">
        <input type="number" name="edad" placeholder="Edad">
        <input type="email" name="email" placeholder="Correo">
        <input type="date" name="fecha" title="fecha de nacimiento">
        <input type="tel" name="cuil" placeholder="telefono">
        <select name="genero">
            <optgroup label="genero">
                <option value="M">masculino</option>
                <option value="F">femenino</option>
                <option value="NB">no binario</option>
                <option value="PND">prefiero no decirlo</option>
                <option value="o">otro</option>
            </optgroup>
        </select>
        <select name="tipo" label="tipo de cliente">
            <option value="e">empresa</option>
            <option value="p">pyme</option>
            <option value="i">individuo</option>
        </select>
        <input type="tel" name="telefono" placeholder="telefono">
        <textarea name="direccion" placeholder="direccion"></textarea>
        <button>Agregar</button>
    </form>
    <form id="formEmpleados">
        <h2>Empleados</h2>
        <input type="hidden" name="id" value="1">
        <input type="text" name="nombre" placeholder="Nombre">
        <input type="text" name="apellido" placeholder="Apellido">
        <input type="number" name="edad" placeholder="Edad">
        <input type="email" name="email" placeholder="Correo">
        <select name="categoria">
            <optgroup label="seleccione una categoria">
                <option value="0">administracion</option>
                <option value="1">atencion al cliente</option>
                <option value="2">operar</option>
                <option value="3">soporte tecnico</option>
                <option value="4">asesor de cuenta</option>
            </optgroup>
        </select>
        <select name="sucursal" id="">
            <optgroup label="seleccione una sucursal">
                <option value="0">zona norte</option>
                <option value="1">zona oeste</option>
                <option value="2">zona sur</option>
                <option value="3">caba</option>
            </optgroup>
        </select>
        <select name="sector" id="">
            <optgroup label="seleccione su sector">
                <option value="0">comercial</option>
                <option value="1">caja</option>
                <option value="2">contabilidad</option>
                <option value="3">atencion al publico</option>
            </optgroup>
        </select>
        <input type="date" title="fecha de alta">
        <input type="number" name="antigÃ¼edad">
        <button>agregar</button>
    </form>
    <!-- Clases para Clientes y Empleados -->
    <script>
        class Persona{
            // Propiedades de la clase
                #id = 0;
                #nombre = ''; // string private
                #apellido = ''; // string private
                #edad = 0; // integer private
                #fechaNacimiento = Date();
                #genero = '';
                #cuil = '';
            // Metodo que asigna los valores al Objeto
                constructor(id, nombre, apellido, edad){
                    this.#id = id;
                    this.#nombre = nombre;
                    this.#apellido = apellido;
                    this.#edad = edad;
                }
            // Metodos de la Clase
                getFullName(){
                    return `Bienvenido ${this.#nombre} ${this.#apellido}`
                }
                setFullName(name, surname){
                    name = parseInt(name) || name
                    if (name.length >= 2 && name.length <= 50){
                        this.#nombre = name;
                        this.#apellido = surname
                    } else {
                        console.log('no se puede utilizar ese nombre');
                    }
                }
                getAge(){
                    return this.#edad    
                }
                setAge(age){
                if (age < 18){
                    console.log('no tienes edad suficiente para acceder')
                } else {
                    this.#edad = age;
                }
            }
        }
        class Empleado extends Persona{
            #categoria;
            #sucursal;
            #sector;
            #sueldo = 30000.0000;
            #beneficios;
            #alta;
            #antiguedad;
            porcentaje = 0.5;
            constructor(categoria, sucursal, sector, beneficios, alta, antiguedad){
                super(...arguments);
                this.#categoria = categoria;
                this.#sucursal = sucursal;
                this.#sector = sector;
                this.#beneficios = beneficios;
                this.#alta = alta;
                this.#antiguedad = antiguedad;
            }
            // Metodos get
            getSueldo(){
                return this.#sueldo;
            }
            getSueldoAnualComplementario(){
                return this.#sueldo + this.#sueldo * this.porcentaje;
            }
            getBeneficioAntiguedad(){
                return this.#sueldo + this.#sueldo * this.#antiguedad / 100
            }
            // Metodos set
            setSueldo(monto){
                this.#sueldo = monto;
            }
            setAjustePorInflacion(inflacion){
                this.#sueldo += this.#sueldo * inflacion;
            }
            setAjusteImpositivo(descuento){
                this.#sueldo -= this.#sueldo * descuento;
            }
            setAntiguedad(hoy){
                this.#antiguedad = this.#alta - hoy
            }
        }

        class Cliente extends Persona{
            // Atributos Privados
            #tipo;
            #telefono;
            #correo;
            #direccion;
            // Metodo constructor
            constructor(tipo,telefono, correo, direccion){
                super(...arguments);
                this.#tipo = tipo;
                this.#telefono = telefono;
                this.#correo = correo;
                this.#direccion = direccion;
            }
            getTelefono(){
                return this.#telefono
            }
        }
    </script>
    <!-- Logica de formularios -->
    <script>
        const d = document;
        forms = d.querySelectorAll('form');
        // Clientes
        let arrayClientes = []
        const formClientes = d.querySelector('#formClientes');
        // Empleados
        let arrayEmpleados = []
        const formEmpleados = d.querySelector('#formEmpleados');

        forms.forEach( f => f.addEventListener( 'submit', (e) => { 
            e.preventDefault();
        }   )   );
        formClientes.addEventListener( 'submit', () => {
            let values = [];
            formClientes.querySelectorAll('input,select,textarea').forEach( field => values.push(field.value))
            nuevoCliente = new Cliente(...values);
            arrayClientes.push(nuevoCliente);
        }   )
    </script>
</body>
</html>