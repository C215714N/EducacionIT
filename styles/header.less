// Variable: Espacio reservado en memoria cuyo valor puede cambiar
@primary: #448;
@light: #eee;
@dark: #333;
@path: '../assets/bg';
@header: 'city', 'electro', 'home';

// Nesting: Anidacion de selectores para lograr una mayor especificidad
/* Cabecera Principal */
#header{
    // Aplica el mixin de flexbox pasando el argumento "flex-direction: column"
    .flexbox(column);
    .normalize(1.5rem 1rem);
    .font;
    // Expresion literal (evita que LESS procese la misma)
    min-height: ~'min(100vh, 640px)';
    color: @light;
    background-image: linear-gradient(#6668 70%, @primary);
    text-shadow: 0 0 .5rem darken(@dark, 100%);
    perspective: 300px;
    h1{
        font-family: 'techno';
        transform: 
            rotateX(15deg);
    }
    p{
        // Agrega el elemento a la lista de selectores de la clase .zeroise
        &:extend(.zeroise);
    }
}
/* Galeria de Imagenes */
.gallery{
    .position;
    // Contenedor de Fondos
    .slide{
        &:extend(.zeroise);
        &:extend(.unstyled);
        .item{
            &:extend(.cover);
            .colors;
            .bg(@header);
            opacity: 0;
            background: var(--bg) center/cover;
            &.active{
                opacity: 1;
            }
        }
    }
    // Controles de la galeria
    button{
        .position(absolute; @h: bottom);
        .normalize(1rem 10vw);
        color: @light;
        background-color: transparent;
        opacity: .3;
        &:hover{
            opacity: .8;
        }
        &.icon-{
            &prev{
                left: 0;
            }
            &next{
                right: 0;
            }
        }
    }
}

// Mixin: Estilos que se utilizan como atributos dentro de un selector
.zeroise{
    .normalize;
}
.unstyled{
    list-style: none;
    text-decoration: none;
}
.cover{
    .position(absolute; @z: -1);
    width: 100%;
    height: 100%;
}
// Mixin parametrico: Estilos que requieren argumentos para aplicarse
.normalize(@p: 0; @m: 0; @b: 0){
    margin: @m;
    border: @b;
    padding: @p;
}
.flexbox(
    @fd: row;
    @jc: center;
    @ai: center;
    @fw: wrap;
    @d: flex
){
    display: @d;
    flex-direction: @fd;
    justify-content: @jc;
    align-items: @ai;
    flex-wrap: @fw;
}
.position(@p: relative; @x: 0; @y: 0; @z: unset; @v: top; @h: left){
    position: @p;
    @{v}: @y;
    @{h}: @x;
    z-index: @z;
    
}
.font(@min: .5rem; @mid: 2vw; @max: 5rem){
    font-size: ~'min(calc(@{mid} + @{min}), @{max})';
}
// Mixin recursivo: Estilos que se repiten en base a una condicion
.colors(@limit: 6; @i: 1) when(@i <= @limit){
    &:nth-child(@{i}n){
        --bg: linear-gradient(
            to top right,
            hsl(@i * 60, 50%, 50%),
            hsl(@i * 45, 50%, 50%)
        );
    }
    .colors(@limit; @i + 1);
}
.bg(@images; @i: 1) when(@i <= length(@images)){
    @img: extract(@images, @i);
    &:nth-child(@{i}){
        --bg: url('@{path}/@{img}.jpg');
    }
    .bg(@images; @i + 1);
}